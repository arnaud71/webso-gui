<div ng-controller="headerCtrl">
  <div ng-include src="template.url"></div>
</div>

<div id="search-new-feeds">


    <div class="row">
        <div class="col-md-12">
            <ol class="breadcrumb text-center">
                <li><a href="#/home">Webso</a></li>
                <li><a >Collecter</a></li>
                <li class="active">Sources externes</li>
            </ol>
        </div>
    </div>

    <div ng-controller="CollectCtrl">
        <div class="alert alert-danger" ng-show="isError">
            <strong>&nbsp;</strong><span>{{errorMessage}}</span>
        </div>

        <div class="row">
            <div class="col-md-12">
                <form class="form-horizontal" ng-submit="doSearch()">
                    <input type="text" placeholder="Chercher" ng-model="model.searchTerm" name ="searchTerm">
                    <button class="btn" ng-click="doSearch()" name ="searchButton" analytics-on='click' analytics-event='Search' analytics-label='Search_multisource' analytics-category='Passive'><i class="icon-search"></i>Search</button>
                </form>
                <!-- <div solr-results_number ng-show="model.foundRes"> -->
                     Found: {{model.foundRes}} source(s)

                    <div class="gridStyle" ng-grid="gridOptions">



                    </div>

                    <!-- <button ng-click="selectAll()" name ="msgSelect">{{msgSelect}}</button> -->

                    <!-- <button ng-click="createOPML()" name ="createOpml">Create OPML</button> -->

                    <button ng-click="doAddSource()" name ="addSource">{{model.msgAdd}}</button>

                    <!-- <div class="selectedItems">{{mySelections}}</div> -->

<!--                    <button ng-click="fixGridRendering()" name ="fixGrid">fixGrid</button>
                </div> -->
            </div>
        </div>

    </div>
</div>

<script type="text/ng-template" id="addSourceData.html">
    <div class="modal-header">
        <h3>Ajout de Source</h3>
    </div>

    <div class="modal-body">
        Saisissez les informations complémentaires utiles :
        <div class="form-group" >
            <form name="sourceForm" class="form-horizontal" role="form">
                <div class="row">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <label class="col-md-5 control-label"> Tags </label>
                            <div class="col-md-7">
                                <input type="text" class="form-control" placeholder="Entrer tags" ng-model="model.inputTags" id="inputTags" name="inputTags">
                            </div>

                            </div>

                            <div class="form-group" >
                                <div class="form-group" >
                                    <label class="col-md-5 control-label"> Domaine </label>
                                    <div  class="col-md-7">
                                        <select id="inputDomain" name="inputDomain" ng-model="model.inputDomain" ng-options="domain.name for domain in domains" require></select>
                                    </div>
                                </div>
                            </div>


                            <div class="form-group">
                                <label class="col-md-5 control-label"> Secteur dactivité </label>
                                <div class="col-md-7">
                                    <!-- <select id="inputActivity" ng-model="activity" ng-options="activity.name for activity in activities"></select> -->
                                    <select id="inputActivity" name="inputActivity" ng-model="model.inputActivity" ng-options="activity.name for activity in model.inputDomain.activites"></select>
                                    {{activity}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>

        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</script>

<script type="text/ng-template" id="addSourceModal.html">
    <div class="modal-header">
        <h3> Ajout de Source</h3>

    </div>
    <div class="modal-body">
        Sources ajoutées avec succès
    </div>

    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>

        <!-- <button class="btn btn-warning" ng-click="cancel()">Cancel</button> -->
    </div>
</script>